import{s as re,f as ce,e as ie,o as ue,h as fe,n as se}from"../chunks/scheduler.f526bf47.js";import{S as me,i as pe,g,s as S,r as B,h as v,j as w,z as Y,c as k,f as h,u as z,k as _,a as G,x as p,B as U,v as F,C as _e,d as H,t as R,y as ee,w as Z,D as A,m as he,n as de,F as ge}from"../chunks/index.69537f49.js";import{e as N}from"../chunks/each.e59479a4.js";import{c as q,C as ve}from"../chunks/CategoryTable.559d651c.js";import{I as $e}from"../chunks/ItemTable.404bf38a.js";import{M as be}from"../chunks/Modal.aaaa625c.js";import{P as oe}from"../chunks/Pageable.86c16a16.js";var Q=(s=>(s.M3="M3",s.M2="M2",s.SZT="SZT",s.L="L",s))(Q||{});function te(s,e,n){const t=s.slice();return t[4]=e[n],t}function ae(s,e,n){const t=s.slice();return t[7]=e[n],t}function le(s){let e,n;return{c(){e=g("option"),this.h()},l(t){e=v(t,"OPTION",{}),w(e).forEach(h),this.h()},h(){e.__value=n=s[7],A(e,e.__value)},m(t,o){G(t,e,o)},p(t,o){o&1&&n!==(n=t[7])&&(e.__value=n,A(e,e.__value))},d(t){t&&h(e)}}}function ne(s){let e,n=s[4]+"",t;return{c(){e=g("option"),t=he(n),this.h()},l(o){e=v(o,"OPTION",{});var d=w(e);t=de(d,n),d.forEach(h),this.h()},h(){e.__value=s[4],A(e,e.__value)},m(o,d){G(o,e,d),p(e,t)},p:se,d(o){o&&h(e)}}}function xe(s){let e,n;return e=new oe({props:{endpoint:"/inventory/categories",component:ve}}),{c(){B(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,o){F(e,t,o),n=!0},p:se,i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function we(s){let e,n,t,o='<input name="name" type="text" placeholder="Name" class="input input-bordered input-primary w-full max-w-xs"/> <input name="quantity" type="text" placeholder="Quantity" class="input input-bordered input-primary w-full max-w-xs"/>',d,m,r,L,$,P,C,b,D,y,J="Add Row",V,T,I,j,K,M=N(s[0]),i=[];for(let a=0;a<M.length;a+=1)i[a]=le(ae(s,M,a));let O=N(Object.values(Q)),u=[];for(let a=0;a<O.length;a+=1)u[a]=ne(te(s,O,a));return b=new be({props:{modalId:"category_modal",buttonName:s[1](s[0]),$$slots:{default:[xe]},$$scope:{ctx:s}}}),T=new oe({props:{endpoint:"/inventory/items",component:$e}}),{c(){e=g("div"),n=g("form"),t=g("div"),t.innerHTML=o,d=S(),m=g("div"),r=g("select");for(let a=0;a<i.length;a+=1)i[a].c();L=S(),$=g("select");for(let a=0;a<u.length;a+=1)u[a].c();P=S(),C=g("div"),B(b.$$.fragment),D=S(),y=g("button"),y.textContent=J,V=S(),B(T.$$.fragment),this.h()},l(a){e=v(a,"DIV",{id:!0,class:!0});var f=w(e);n=v(f,"FORM",{method:!0,class:!0});var c=w(n);t=v(c,"DIV",{class:!0,["data-svelte-h"]:!0}),Y(t)!=="svelte-1rf2mv4"&&(t.innerHTML=o),d=k(c),m=v(c,"DIV",{class:!0});var l=w(m);r=v(l,"SELECT",{name:!0,class:!0});var x=w(r);for(let E=0;E<i.length;E+=1)i[E].l(x);x.forEach(h),L=k(l),$=v(l,"SELECT",{name:!0,class:!0});var W=w($);for(let E=0;E<u.length;E+=1)u[E].l(W);W.forEach(h),P=k(l),C=v(l,"DIV",{class:!0});var X=w(C);z(b.$$.fragment,X),X.forEach(h),D=k(l),y=v(l,"BUTTON",{class:!0,["data-svelte-h"]:!0}),Y(y)!=="svelte-1q26zcv"&&(y.textContent=J),l.forEach(h),c.forEach(h),V=k(f),z(T.$$.fragment,f),f.forEach(h),this.h()},h(){_(t,"class","flex flex-row gap-3"),r.multiple=!0,_(r,"name","categoryIds"),_(r,"class","p-4 mr-auto hidden"),s[0]===void 0&&ce(()=>s[2].call(r)),_($,"name","unit"),_($,"class","select select-primary w-full max-w-xs"),_(C,"class","mr-auto"),_(y,"class","btn btn-primary"),_(m,"class","flex flex-row gap-3"),_(n,"method","POST"),_(n,"class","mx-auto flex flex-col gap-3 py-6"),_(e,"id","item"),_(e,"class","flex flex-col gap-3 px-10 pt-10")},m(a,f){G(a,e,f),p(e,n),p(n,t),p(n,d),p(n,m),p(m,r);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(r,null);U(r,s[0]),p(m,L),p(m,$);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m($,null);p(m,P),p(m,C),F(b,C,null),p(m,D),p(m,y),p(e,V),F(T,e,null),I=!0,j||(K=_e(r,"change",s[2]),j=!0)},p(a,[f]){if(f&1){M=N(a[0]);let l;for(l=0;l<M.length;l+=1){const x=ae(a,M,l);i[l]?i[l].p(x,f):(i[l]=le(x),i[l].c(),i[l].m(r,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=M.length}if(f&1&&U(r,a[0]),f&0){O=N(Object.values(Q));let l;for(l=0;l<O.length;l+=1){const x=te(a,O,l);u[l]?u[l].p(x,f):(u[l]=ne(x),u[l].c(),u[l].m($,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=O.length}const c={};f&1&&(c.buttonName=a[1](a[0])),f&1024&&(c.$$scope={dirty:f,ctx:a}),b.$set(c)},i(a){I||(H(b.$$.fragment,a),H(T.$$.fragment,a),I=!0)},o(a){R(b.$$.fragment,a),R(T.$$.fragment,a),I=!1},d(a){a&&h(e),ee(i,a),ee(u,a),Z(b),Z(T),j=!1,K()}}}function ye(s,e,n){let t;ie(s,q,r=>n(3,t=r));let o=[];ue(()=>{fe(q,t=[],t)}),q.subscribe(r=>{n(0,o=[...r]),n(0,o)});const d=r=>r.length===0?"select categories":`${r.length} categories selected`;function m(){o=ge(this),n(0,o)}return[o,d,m]}class Ie extends me{constructor(e){super(),pe(this,e,ye,we,re,{})}}export{Ie as component};
